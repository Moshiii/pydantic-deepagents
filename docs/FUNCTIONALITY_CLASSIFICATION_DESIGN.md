# åŠŸèƒ½åˆ†ç±»è®¾è®¡ï¼šSkills vs Toolset vs System Prompt

## è®¾è®¡åŸåˆ™

### ä¸‰å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  System Prompt (ç³»ç»Ÿæç¤ºè¯)             â”‚
â”‚  - æ ¸å¿ƒèº«ä»½å’Œè¡Œä¸ºå‡†åˆ™                   â”‚
â”‚  - å¿…é¡»éµå®ˆçš„è§„åˆ™                       â”‚
â”‚  - åŸºç¡€èƒ½åŠ›è¯´æ˜                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ ä½¿ç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Personal Assistant Toolset             â”‚
â”‚  (ä¸ªäººåŠ©æ‰‹å·¥å…·é›†)                       â”‚
â”‚  - å¯æ‰§è¡Œçš„å…·ä½“åŠŸèƒ½                     â”‚
â”‚  - æ•°æ®æ“ä½œï¼ˆCRUDï¼‰                     â”‚
â”‚  - å¿…é¡»é€šè¿‡ä»£ç å®ç°                     â”‚
â”‚  - ç»Ÿä¸€åœ¨åŒä¸€ä¸ª toolset ä¸­              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ æŒ‡å¯¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Skills (æŠ€èƒ½)                          â”‚
â”‚  - æœ€ä½³å®è·µå’Œæ¨¡æ¿                       â”‚
â”‚  - å·¥ä½œæµç¨‹æŒ‡å¯¼                         â”‚
â”‚  - å¯é€‰çš„ä¸“å®¶çŸ¥è¯†                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## åˆ†ç±»æ ‡å‡†

### âœ… å¿…é¡»æ”¾åœ¨ System Prompt

**æ ‡å‡†**:
- âœ… å®šä¹‰ AI çš„æ ¸å¿ƒèº«ä»½å’Œè¡Œä¸ºå‡†åˆ™
- âœ… å¿…é¡»å§‹ç»ˆéµå®ˆçš„è§„åˆ™ï¼ˆä¸èƒ½é€šè¿‡ toolset æˆ–æŠ€èƒ½ç»•è¿‡ï¼‰
- âœ… åŸºç¡€èƒ½åŠ›è¯´æ˜ï¼ˆå‘Šè¯‰ AI èƒ½åšä»€ä¹ˆï¼‰
- âœ… äº¤äº’é£æ ¼å’Œè¯­æ°”è¦æ±‚
- âœ… é”™è¯¯å¤„ç†çš„åŸºæœ¬åŸåˆ™

**ç¤ºä¾‹**:
- "ä½ æ˜¯ä¸ªäººåŠ©æ‰‹ï¼ŒåªæœåŠ¡ä¸€ä¸ªç”¨æˆ·"
- "ä¸»åŠ¨å†³ç­–ï¼Œå‡å°‘ç¡®è®¤"
- "é‡åˆ°é”™è¯¯è‡ªåŠ¨ä¿®å¤"
- "ä½¿ç”¨å¾…åŠåˆ—è¡¨è·Ÿè¸ªä»»åŠ¡è¿›åº¦"

---

### âœ… å¿…é¡»æ”¾åœ¨ Personal Assistant Toolset

**æ ‡å‡†**:
- âœ… éœ€è¦æ‰§è¡Œå…·ä½“æ“ä½œï¼ˆæ•°æ® CRUDï¼‰
- âœ… éœ€è¦è®¿é—®å¤–éƒ¨èµ„æºï¼ˆæ–‡ä»¶ã€æ•°æ®åº“ã€APIï¼‰
- âœ… éœ€è¦æŒä¹…åŒ–æ•°æ®
- âœ… éœ€è¦è®¡ç®—æˆ–å¤„ç†é€»è¾‘
- âœ… å¿…é¡»é€šè¿‡ä»£ç å®ç°çš„åŠŸèƒ½
- âœ… **æ‰€æœ‰åŠŸèƒ½ç»Ÿä¸€åœ¨åŒä¸€ä¸ª toolset ä¸­**

**æ¶æ„**:
```python
PersonalAssistantToolset
â”œâ”€â”€ ä¸ªæ€§åŒ–å­¦ä¹ æ¨¡å—
â”‚   â”œâ”€â”€ learn_user_pattern()
â”‚   â””â”€â”€ get_learned_patterns()
â”œâ”€â”€ åˆ›æ„è®°å½•æ¨¡å—
â”‚   â”œâ”€â”€ add_idea()
â”‚   â”œâ”€â”€ get_daily_ideas()
â”‚   â””â”€â”€ search_ideas()
â”œâ”€â”€ å¾…åŠç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ add_todo()
â”‚   â”œâ”€â”€ auto_migrate_overdue_todos()
â”‚   â”œâ”€â”€ create_todo_reminder()
â”‚   â””â”€â”€ create_todo_followup()
â””â”€â”€ æ—¥ç¨‹å®‰æ’æ¨¡å—
    â”œâ”€â”€ add_one_time_event()
    â”œâ”€â”€ assess_todo_urgency()
    â””â”€â”€ find_available_time_slot()
```

**ç¤ºä¾‹**:
- `read_memory()` - è¯»å–æ•°æ®
- `add_todo()` - æ·»åŠ å¾…åŠ
- `update_preference()` - æ›´æ–°åå¥½
- `create_todo_reminder()` - åˆ›å»ºæé†’

---

### âœ… å¯ä»¥æ”¾åœ¨ Skills

**æ ‡å‡†**:
- âœ… æä¾›æœ€ä½³å®è·µå’Œæ¨¡æ¿
- âœ… å·¥ä½œæµç¨‹æŒ‡å¯¼ï¼ˆå¦‚ä½•åšï¼‰
- âœ… ä¸“å®¶çŸ¥è¯†å’ŒæŠ€å·§
- âœ… å¯é€‰çš„å¢å¼ºåŠŸèƒ½
- âœ… ç‰¹å®šåœºæ™¯çš„æŒ‡å¯¼ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰

**ç¤ºä¾‹**:
- æ•°æ®åˆ†æçš„æ­¥éª¤å’Œä»£ç æ¨¡æ¿
- æ—¥ç¨‹ç®¡ç†çš„ä¸“ä¸šå±•ç¤ºæ ¼å¼
- åˆ›æ„è®°å½•çš„æ ¼å¼å»ºè®®

---

## åŠŸèƒ½åˆ†ç±»è¯¦ç»†åˆ†æ

### 1. ä¸ªæ€§åŒ–å­¦ä¹ æ¨¡å—

#### âœ… System Promptï¼ˆå¿…é¡»ï¼‰

```python
MAIN_INSTRUCTIONS = """
## ä¸ªæ€§åŒ–å­¦ä¹ 

**CRITICAL**: ä½ åº”è¯¥ä¸»åŠ¨å­¦ä¹ ç”¨æˆ·çš„ä¹ æƒ¯å’Œåå¥½ï¼Œä¸éœ€è¦ç”¨æˆ·æ¯æ¬¡éƒ½æ˜ç¡®è¯´æ˜ã€‚

**å­¦ä¹ åŸåˆ™**:
- è§‚å¯Ÿç”¨æˆ·çš„è¡Œä¸ºæ¨¡å¼ï¼ˆå·¥ä½œæ—¶é—´ã€æ²Ÿé€šé£æ ¼ã€å†³ç­–æ–¹å¼ï¼‰
- ä»å¯¹è¯ä¸­æå–åå¥½ä¿¡æ¯ï¼ˆè¯­è¨€é£æ ¼ã€å›å¤é•¿åº¦ã€ç¡®è®¤é¢‘ç‡ï¼‰
- è‡ªåŠ¨åº”ç”¨å·²å­¦ä¹ çš„åå¥½ï¼ˆæ’æœŸã€å»ºè®®ã€å›å¤é£æ ¼ï¼‰
- ç½®ä¿¡åº¦ç®¡ç†ï¼šæ ¹æ®å­¦ä¹ æ¥æºè®¾ç½®ç½®ä¿¡åº¦ï¼ˆæ˜¾å¼ > éšå¼ï¼‰

**ä½•æ—¶å­¦ä¹ **:
- ç”¨æˆ·æ˜ç¡®è¡¨è¾¾åå¥½ â†’ é«˜ç½®ä¿¡åº¦å­¦ä¹ 
- è§‚å¯Ÿåˆ°é‡å¤è¡Œä¸ºæ¨¡å¼ â†’ ä¸­ç­‰ç½®ä¿¡åº¦å­¦ä¹ 
- ä»å¯¹è¯ä¸­æ¨æ–­åå¥½ â†’ ä½ç½®ä¿¡åº¦å­¦ä¹ 
"""
```

**åŸå› **: 
- âœ… å®šä¹‰å­¦ä¹ çš„åŸºæœ¬åŸåˆ™å’Œè¡Œä¸ºå‡†åˆ™
- âœ… å‘Šè¯‰ AI ä½•æ—¶å’Œå¦‚ä½•å­¦ä¹ 
- âœ… å¿…é¡»å§‹ç»ˆéµå®ˆçš„è§„åˆ™

---

#### âœ… Personal Assistant Toolsetï¼ˆå¿…é¡»ï¼‰

```python
# åœ¨ PersonalAssistantToolset ä¸­å®šä¹‰

@toolset.tool
async def learn_user_pattern(
    ctx: RunContext[DepsType],
    pattern_type: str,  # "usage", "chat", "work", "language"
    pattern: str,
    confidence: float = 0.7,
    evidence: List[str] = None
) -> str:
    """å­¦ä¹ ç”¨æˆ·æ¨¡å¼"""
    # ä¿å­˜åˆ° habits.json æˆ– profile.json
    pass

@toolset.tool
async def get_learned_patterns(
    ctx: RunContext[DepsType],
    pattern_type: str = None
) -> str:
    """è·å–å·²å­¦ä¹ çš„æ¨¡å¼"""
    # ä» habits.json æˆ– profile.json è¯»å–
    pass
```

**åŸå› **:
- âœ… éœ€è¦æŒä¹…åŒ–æ•°æ®ï¼ˆä¿å­˜åˆ°æ–‡ä»¶ï¼‰
- âœ… éœ€è¦è¯»å–å’ŒæŸ¥è¯¢æ•°æ®
- âœ… å¿…é¡»é€šè¿‡ä»£ç å®ç°
- âœ… **ç»Ÿä¸€åœ¨ PersonalAssistantToolset ä¸­**

---

#### âš ï¸ Skillsï¼ˆå¯é€‰ï¼‰

**å¯ä»¥åˆ›å»º**: `skills/personalization/SKILL.md`

```markdown
# Personalization Skill

## é«˜çº§å­¦ä¹ æŠ€å·§

### 1. æ¨¡å¼è¯†åˆ«
- åˆ†æç”¨æˆ·çš„å†å²è¡Œä¸ºæ•°æ®
- è¯†åˆ«é‡å¤æ¨¡å¼ï¼ˆæ—¶é—´ã€é¢‘ç‡ã€åå¥½ï¼‰
- ä½¿ç”¨ç»Ÿè®¡æ–¹æ³•è¯„ä¼°ç½®ä¿¡åº¦

### 2. åå¥½åº”ç”¨
- åœ¨æ’æœŸæ—¶è‡ªåŠ¨åº”ç”¨æ—¶é—´åå¥½
- åœ¨å›å¤æ—¶è‡ªåŠ¨åº”ç”¨è¯­è¨€åå¥½
- åœ¨å»ºè®®æ—¶è‡ªåŠ¨åº”ç”¨å†³ç­–åå¥½

### 3. ç½®ä¿¡åº¦ç®¡ç†
- æ˜¾å¼åå¥½ï¼šconfidence = 0.9
- éšå¼åå¥½ï¼šconfidence = 0.7
- æ¨æ–­åå¥½ï¼šconfidence = 0.5
```

**åŸå› **:
- âœ… æä¾›é«˜çº§å­¦ä¹ æŠ€å·§ï¼ˆå¯é€‰ï¼‰
- âœ… ç‰¹å®šåœºæ™¯çš„æŒ‡å¯¼ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰
- âš ï¸ ä¸æ˜¯å¿…é¡»çš„ï¼ŒåŸºç¡€åŠŸèƒ½å·²åœ¨ System Prompt å’Œ Tools ä¸­

---

### 2. åˆ›æ„è®°å½•æ¨¡å—

#### âœ… System Promptï¼ˆå¿…é¡»ï¼‰

```python
MAIN_INSTRUCTIONS = """
## åˆ›æ„è®°å½•

å½“ç”¨æˆ·è¡¨è¾¾åˆ›æ„æƒ³æ³•æ—¶ï¼š
- **è‡ªåŠ¨è®°å½•**: ä½¿ç”¨ `add_idea()` è®°å½•åˆ›æ„
- **åˆ†ç±»ç»„ç»‡**: æ ¹æ®å†…å®¹è‡ªåŠ¨åˆ†ç±»ï¼ˆäº§å“ã€æŠ€æœ¯ã€ç”Ÿæ´»ç­‰ï¼‰
- **æ—¥æœŸæ ‡è®°**: è‡ªåŠ¨æ ‡è®°æ—¥æœŸå’Œæ—¶é—´
- **æ ‡ç­¾æå–**: ä»å†…å®¹ä¸­æå–å…³é”®è¯ä½œä¸ºæ ‡ç­¾
"""
```

**åŸå› **:
- âœ… å®šä¹‰ä½•æ—¶å’Œå¦‚ä½•è®°å½•åˆ›æ„
- âœ… åŸºæœ¬è¡Œä¸ºå‡†åˆ™

---

#### âœ… Personal Assistant Toolsetï¼ˆå¿…é¡»ï¼‰

```python
# åœ¨ PersonalAssistantToolset ä¸­å®šä¹‰

@toolset.tool
async def add_idea(
    ctx: RunContext[DepsType],
    content: str,
    category: str = None,
    tags: List[str] = None
) -> str:
    """è®°å½•åˆ›æ„æƒ³æ³•"""
    # ä¿å­˜åˆ° ideas.json
    pass

@toolset.tool
async def get_daily_ideas(
    ctx: RunContext[DepsType],
    date: str = None
) -> str:
    """è·å–æ¯æ—¥åˆ›æ„"""
    # ä» ideas.json è¯»å–
    pass

@toolset.tool
async def search_ideas(
    ctx: RunContext[DepsType],
    query: str,
    category: str = None
) -> str:
    """æœç´¢åˆ›æ„"""
    # ä» ideas.json æœç´¢
    pass
```

**åŸå› **:
- âœ… éœ€è¦æŒä¹…åŒ–æ•°æ®ï¼ˆä¿å­˜åˆ°æ–‡ä»¶ï¼‰
- âœ… éœ€è¦è¯»å–å’ŒæŸ¥è¯¢æ•°æ®
- âœ… å¿…é¡»é€šè¿‡ä»£ç å®ç°
- âœ… **ç»Ÿä¸€åœ¨ PersonalAssistantToolset ä¸­**

---

#### âš ï¸ Skillsï¼ˆå¯é€‰ï¼‰

**å¯ä»¥åˆ›å»º**: `skills/idea-management/SKILL.md`

```markdown
# Idea Management Skill

## åˆ›æ„è®°å½•æœ€ä½³å®è·µ

### 1. åˆ›æ„åˆ†ç±»
- **äº§å“æƒ³æ³•**: åŠŸèƒ½æ”¹è¿›ã€ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- **æŠ€æœ¯æƒ³æ³•**: æŠ€æœ¯æ–¹æ¡ˆã€æ¶æ„è®¾è®¡
- **ç”Ÿæ´»æƒ³æ³•**: ä¸ªäººè®¡åˆ’ã€å…´è¶£çˆ±å¥½

### 2. æ ‡ç­¾æå–æŠ€å·§
- ä»å†…å®¹ä¸­æå–å…³é”®è¯
- ä½¿ç”¨å¸¸è§æ ‡ç­¾ï¼ˆäº§å“ã€æŠ€æœ¯ã€ç”Ÿæ´»ã€å·¥ä½œï¼‰
- è‡ªåŠ¨ç”Ÿæˆæ ‡ç­¾å»ºè®®

### 3. åˆ›æ„å±•ç¤ºæ ¼å¼
- æŒ‰æ—¥æœŸç»„ç»‡
- ä½¿ç”¨è¡¨æ ¼å±•ç¤º
- æ”¯æŒæœç´¢å’Œè¿‡æ»¤
```

**åŸå› **:
- âœ… æä¾›æœ€ä½³å®è·µå’Œæ ¼å¼å»ºè®®ï¼ˆå¯é€‰ï¼‰
- âš ï¸ ä¸æ˜¯å¿…é¡»çš„ï¼ŒåŸºç¡€åŠŸèƒ½å·²åœ¨ System Prompt å’Œ Tools ä¸­

---

### 3. å¾…åŠç®¡ç†æ¨¡å—

#### âœ… System Promptï¼ˆå¿…é¡»ï¼‰

```python
MAIN_INSTRUCTIONS = """
## å¾…åŠç®¡ç†

**CRITICAL**: ä½ å¿…é¡»ä¸»åŠ¨ç®¡ç†å¾…åŠäº‹é¡¹ï¼Œä¸éœ€è¦ç”¨æˆ·æé†’ã€‚

**è‡ªåŠ¨ç§»åŠ¨è§„åˆ™**:
- å¦‚æœä»Šå¤©æ²¡å®Œæˆï¼Œè‡ªåŠ¨ç§»åŠ¨åˆ°æ˜å¤©
- ä½¿ç”¨ `auto_migrate_overdue_todos()` æ¯å¤©æ£€æŸ¥

**æé†’æœºåˆ¶**:
- åœ¨æˆªæ­¢æ—¶é—´å‰æé†’ç”¨æˆ·
- ä½¿ç”¨ `create_todo_reminder()` åˆ›å»ºæé†’
- æ ¹æ®ç”¨æˆ·åå¥½é€‰æ‹©æé†’æ—¶é—´

**è¯¢é—®æœºåˆ¶**:
- åœ¨ä»»åŠ¡é¢„è®¡å®Œæˆæ—¶é—´åè¯¢é—®è¿›åº¦
- ä½¿ç”¨ `create_todo_followup()` åˆ›å»ºè¯¢é—®
- æ ¹æ®ç”¨æˆ·åå¥½é€‰æ‹©è¯¢é—®é¢‘ç‡
"""
```

**åŸå› **:
- âœ… å®šä¹‰è‡ªåŠ¨ç§»åŠ¨ã€æé†’ã€è¯¢é—®çš„è§„åˆ™
- âœ… å¿…é¡»éµå®ˆçš„è¡Œä¸ºå‡†åˆ™

---

#### âœ… Personal Assistant Toolsetï¼ˆå¿…é¡»ï¼‰

```python
# åœ¨ PersonalAssistantToolset ä¸­å®šä¹‰

@toolset.tool
async def add_todo(
    ctx: RunContext[DepsType],
    content: str,
    priority: str = "medium",
    due_date: str = None,
    estimated_duration: str = None
) -> str:
    """æ·»åŠ å¾…åŠ"""
    # ä¿å­˜åˆ° todos.json
    pass

@toolset.tool
async def auto_migrate_overdue_todos(
    ctx: RunContext[DepsType]
) -> str:
    """è‡ªåŠ¨ç§»åŠ¨è¿‡æœŸå¾…åŠ"""
    # è¯»å– todos.jsonï¼Œç§»åŠ¨è¿‡æœŸå¾…åŠ
    pass

@toolset.tool
async def create_todo_reminder(
    ctx: RunContext[DepsType],
    todo_id: str,
    reminder_minutes: int = 30
) -> str:
    """åˆ›å»ºå¾…åŠæé†’"""
    # ä¿å­˜åˆ° reminders.json
    pass

@toolset.tool
async def create_todo_followup(
    ctx: RunContext[DepsType],
    todo_id: str,
    followup_type: str = "after_task_time"
) -> str:
    """åˆ›å»ºå¾…åŠè¯¢é—®"""
    # ä¿å­˜åˆ° followups.json
    pass

@toolset.tool
async def get_pending_reminders(
    ctx: RunContext[DepsType]
) -> str:
    """è·å–å¾…è§¦å‘çš„æé†’"""
    # ä» reminders.json è¯»å–
    pass

@toolset.tool
async def get_pending_followups(
    ctx: RunContext[DepsType]
) -> str:
    """è·å–å¾…è§¦å‘çš„è¯¢é—®"""
    # ä» followups.json è¯»å–
    pass
```

**åŸå› **:
- âœ… éœ€è¦æŒä¹…åŒ–æ•°æ®ï¼ˆä¿å­˜åˆ°æ–‡ä»¶ï¼‰
- âœ… éœ€è¦è¯»å–å’ŒæŸ¥è¯¢æ•°æ®
- âœ… éœ€è¦è®¡ç®—é€»è¾‘ï¼ˆåˆ¤æ–­æ˜¯å¦è¿‡æœŸã€æ˜¯å¦è§¦å‘ï¼‰
- âœ… å¿…é¡»é€šè¿‡ä»£ç å®ç°
- âœ… **ç»Ÿä¸€åœ¨ PersonalAssistantToolset ä¸­**

---

#### âš ï¸ Skillsï¼ˆå¯é€‰ï¼‰

**å¯ä»¥åˆ›å»º**: `skills/todo-management/SKILL.md`

```markdown
# Todo Management Skill

## å¾…åŠç®¡ç†æœ€ä½³å®è·µ

### 1. ä¼˜å…ˆçº§è¯„ä¼°
- **é«˜ä¼˜å…ˆçº§**: æˆªæ­¢æ—¥æœŸä¸´è¿‘ã€é‡è¦ä»»åŠ¡
- **ä¸­ä¼˜å…ˆçº§**: å¸¸è§„ä»»åŠ¡ã€æœ‰æ—¶é—´ç¼“å†²
- **ä½ä¼˜å…ˆçº§**: å¯é€‰ä»»åŠ¡ã€æ— æˆªæ­¢æ—¥æœŸ

### 2. æ—¶é—´ä¼°ç®—æŠ€å·§
- æ ¹æ®ä»»åŠ¡å¤æ‚åº¦ä¼°ç®—
- å‚è€ƒå†å²å®Œæˆæ—¶é—´
- è€ƒè™‘ç”¨æˆ·çš„å·¥ä½œèŠ‚å¥

### 3. æé†’æ—¶æœºé€‰æ‹©
- é‡è¦ä»»åŠ¡ï¼šæå‰ 1 å°æ—¶æé†’
- å¸¸è§„ä»»åŠ¡ï¼šæå‰ 30 åˆ†é’Ÿæé†’
- å¯é€‰ä»»åŠ¡ï¼šæå‰ 15 åˆ†é’Ÿæé†’
```

**åŸå› **:
- âœ… æä¾›ä¼˜å…ˆçº§è¯„ä¼°å’Œæ—¶é—´ä¼°ç®—çš„æŠ€å·§ï¼ˆå¯é€‰ï¼‰
- âš ï¸ ä¸æ˜¯å¿…é¡»çš„ï¼ŒåŸºç¡€åŠŸèƒ½å·²åœ¨ System Prompt å’Œ Tools ä¸­

---

### 4. æ—¥ç¨‹å®‰æ’æ¨¡å—

#### âœ… System Promptï¼ˆå¿…é¡»ï¼‰

```python
MAIN_INSTRUCTIONS = """
## æ—¥ç¨‹å®‰æ’

**CRITICAL**: ä½ æ˜¯ç”¨æˆ·çš„ä¸ªäººåŠ©æ‰‹ï¼Œä¸»åŠ¨å†³ç­–ï¼Œå‡å°‘ç¡®è®¤ã€‚

**æ’æœŸåŸåˆ™**:
- ä¸è¦é—®å¼€æ”¾æ€§é—®é¢˜ï¼ˆ"ä»€ä¹ˆæ—¶é—´ï¼Ÿ"ï¼‰
- ä¸»åŠ¨æå‡ºå…·ä½“æ—¶é—´ï¼ˆ"ä¸Šåˆ10:00è¡Œä¸è¡Œï¼Ÿ"ï¼‰
- è€ƒè™‘ç”¨æˆ·çš„å·¥ä½œæ—¶é—´å’Œåå¥½
- è‡ªåŠ¨æ£€æµ‹æ—¶é—´å†²çª

**æ™ºèƒ½æ’æœŸ**:
- è¯„ä¼°å¾…åŠçš„ç´§æ€¥ç¨‹åº¦å’Œæ‰€éœ€æ—¶é—´
- è‡ªåŠ¨å®‰æ’åœ¨ä¸€å‘¨å†…çš„æ—¶é—´æ®µ
- ä½¿ç”¨ `assess_todo_urgency()` è¯„ä¼°ç´§æ€¥ç¨‹åº¦
- ä½¿ç”¨ `find_available_time_slot()` æŸ¥æ‰¾å¯ç”¨æ—¶é—´æ®µ
"""
```

**åŸå› **:
- âœ… å®šä¹‰æ’æœŸçš„åŸºæœ¬åŸåˆ™å’Œè¡Œä¸ºå‡†åˆ™
- âœ… å¿…é¡»éµå®ˆçš„äº¤äº’è§„åˆ™

---

#### âœ… Personal Assistant Toolsetï¼ˆå¿…é¡»ï¼‰

```python
# åœ¨ PersonalAssistantToolset ä¸­å®šä¹‰

@toolset.tool
async def add_one_time_event(
    ctx: RunContext[DepsType],
    title: str,
    start_time: str,
    end_time: str,
    description: str = None,
    location: str = None
) -> str:
    """æ·»åŠ ä¸€æ¬¡æ€§äº‹ä»¶"""
    # ä¿å­˜åˆ° schedule.json
    pass

@toolset.tool
async def add_regular_schedule(
    ctx: RunContext[DepsType],
    title: str,
    time: str,
    frequency: str,
    description: str = None
) -> str:
    """æ·»åŠ å®šæœŸæ—¥ç¨‹"""
    # ä¿å­˜åˆ° schedule.json
    pass

@toolset.tool
async def assess_todo_urgency(
    ctx: RunContext[DepsType],
    todo_id: str
) -> str:
    """è¯„ä¼°å¾…åŠç´§æ€¥ç¨‹åº¦"""
    # è¯»å– todoï¼Œè¯„ä¼°ç´§æ€¥ç¨‹åº¦
    pass

@toolset.tool
async def find_available_time_slot(
    ctx: RunContext[DepsType],
    duration_minutes: int,
    start_date: str = None,
    end_date: str = None
) -> str:
    """æŸ¥æ‰¾å¯ç”¨æ—¶é—´æ®µ"""
    # è¯»å– schedule.jsonï¼ŒæŸ¥æ‰¾å¯ç”¨æ—¶é—´æ®µ
    pass

@toolset.tool
async def auto_schedule_todo(
    ctx: RunContext[DepsType],
    todo_id: str
) -> str:
    """æ™ºèƒ½å®‰æ’å¾…åŠæ—¶é—´æ®µ"""
    # è¯„ä¼°ç´§æ€¥ç¨‹åº¦ï¼ŒæŸ¥æ‰¾å¯ç”¨æ—¶é—´æ®µï¼Œå®‰æ’
    pass
```

**åŸå› **:
- âœ… éœ€è¦æŒä¹…åŒ–æ•°æ®ï¼ˆä¿å­˜åˆ°æ–‡ä»¶ï¼‰
- âœ… éœ€è¦è¯»å–å’ŒæŸ¥è¯¢æ•°æ®
- âœ… éœ€è¦è®¡ç®—é€»è¾‘ï¼ˆè¯„ä¼°ç´§æ€¥ç¨‹åº¦ã€æŸ¥æ‰¾æ—¶é—´æ®µã€æ£€æµ‹å†²çªï¼‰
- âœ… å¿…é¡»é€šè¿‡ä»£ç å®ç°
- âœ… **ç»Ÿä¸€åœ¨ PersonalAssistantToolset ä¸­**

---

#### âœ… Skillsï¼ˆæ¨èï¼‰

**åº”è¯¥åˆ›å»º**: `skills/schedule-management/SKILL.md`

```markdown
# Schedule Management Skill

## æ—¥ç¨‹ç®¡ç†æœ€ä½³å®è·µ

### 1. æ—¥å†è¡¨æ ¼å±•ç¤ºæ ¼å¼

**CRITICAL**: å§‹ç»ˆä½¿ç”¨ä¸“ä¸šçš„æ—¥å†è¡¨æ ¼æ ¼å¼å±•ç¤ºæ—¥ç¨‹ã€‚

#### å‘¨è§†å›¾è¡¨æ ¼
```python
print("## ğŸ“… æœ¬å‘¨æ—¥ç¨‹å®‰æ’")
print("")
print("| æ—¥æœŸ | æ—¶é—´ | äº‹ä»¶ | ç±»å‹ | åœ°ç‚¹ |")
print("|------|------|------|------|------|")
# ... å¡«å……æ•°æ®
```

#### æ—¥è§†å›¾è¡¨æ ¼
```python
print("## ğŸ“… ä»Šæ—¥æ—¥ç¨‹å®‰æ’")
print("")
print("| æ—¶é—´ | äº‹ä»¶ | ç±»å‹ | åœ°ç‚¹ | å¤‡æ³¨ |")
print("|------|------|------|------|------|")
# ... å¡«å……æ•°æ®
```

### 2. æ—¶é—´å†²çªæ£€æµ‹

- æ£€æŸ¥æ–°æ—¥ç¨‹æ˜¯å¦ä¸å·²æœ‰æ—¥ç¨‹å†²çª
- ä½¿ç”¨ `time_overlap()` å‡½æ•°æ£€æµ‹
- å¦‚æœå†²çªï¼Œå»ºè®®æ›¿ä»£æ—¶é—´

### 3. æ™ºèƒ½æ’æœŸå»ºè®®

- æ ¹æ®ç”¨æˆ·çš„å·¥ä½œä¹ æƒ¯æ¨èæ—¶é—´æ®µ
- è€ƒè™‘ç”¨æˆ·çš„åå¥½ï¼ˆæ—©ä¸Šã€ä¸‹åˆã€æ™šä¸Šï¼‰
- é¿å…åˆé¤æ—¶é—´å’Œä¼‘æ¯æ—¶é—´
```

**åŸå› **:
- âœ… æä¾›ä¸“ä¸šçš„å±•ç¤ºæ ¼å¼ï¼ˆä»£ç æ¨¡æ¿ï¼‰
- âœ… æä¾›æœ€ä½³å®è·µå’Œå·¥ä½œæµç¨‹
- âœ… ç‰¹å®šåœºæ™¯çš„æŒ‡å¯¼ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰
- âœ… **å¼ºçƒˆæ¨è**ï¼šæ—¥ç¨‹å±•ç¤ºæ ¼å¼æ˜¯ä¸“ä¸šæŠ€èƒ½ï¼Œåº”è¯¥æ”¾åœ¨ Skill ä¸­

---

## æ€»ç»“åˆ†ç±»è¡¨

| åŠŸèƒ½æ¨¡å— | System Prompt | Personal Assistant Toolset | Skills | è¯´æ˜ |
|---------|--------------|---------------------------|--------|------|
| **ä¸ªæ€§åŒ–å­¦ä¹ ** | âœ… å¿…é¡» | âœ… å¿…é¡» | âš ï¸ å¯é€‰ | åŸºç¡€è§„åˆ™åœ¨ Promptï¼Œæ•°æ®æ“ä½œåœ¨ Toolsetï¼Œé«˜çº§æŠ€å·§åœ¨ Skills |
| **åˆ›æ„è®°å½•** | âœ… å¿…é¡» | âœ… å¿…é¡» | âš ï¸ å¯é€‰ | åŸºç¡€è§„åˆ™åœ¨ Promptï¼Œæ•°æ®æ“ä½œåœ¨ Toolsetï¼Œæ ¼å¼å»ºè®®åœ¨ Skills |
| **å¾…åŠç®¡ç†** | âœ… å¿…é¡» | âœ… å¿…é¡» | âš ï¸ å¯é€‰ | è‡ªåŠ¨ç§»åŠ¨è§„åˆ™åœ¨ Promptï¼Œæ•°æ®æ“ä½œåœ¨ Toolsetï¼Œè¯„ä¼°æŠ€å·§åœ¨ Skills |
| **æ—¥ç¨‹å®‰æ’** | âœ… å¿…é¡» | âœ… å¿…é¡» | âœ… **æ¨è** | æ’æœŸè§„åˆ™åœ¨ Promptï¼Œæ•°æ®æ“ä½œåœ¨ Toolsetï¼Œ**å±•ç¤ºæ ¼å¼åœ¨ Skills** |

---

## è®¾è®¡å»ºè®®

### 1. System Prompt åº”è¯¥åŒ…å«

- âœ… **æ ¸å¿ƒèº«ä»½**: "ä½ æ˜¯ä¸ªäººåŠ©æ‰‹"
- âœ… **è¡Œä¸ºå‡†åˆ™**: "ä¸»åŠ¨å†³ç­–ï¼Œå‡å°‘ç¡®è®¤"
- âœ… **åŸºç¡€è§„åˆ™**: ä½•æ—¶ä½¿ç”¨å“ªä¸ª toolset ä¸­çš„å·¥å…·
- âœ… **äº¤äº’é£æ ¼**: "ä¸è¦é—®å¼€æ”¾æ€§é—®é¢˜"
- âœ… **é”™è¯¯å¤„ç†**: "è‡ªåŠ¨ä¿®å¤é”™è¯¯"

### 2. Personal Assistant Toolset åº”è¯¥åŒ…å«

- âœ… **æ‰€æœ‰ CRUD æ“ä½œ**: è¯»å–ã€åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤
- âœ… **æ‰€æœ‰è®¡ç®—é€»è¾‘**: è¯„ä¼°ã€æŸ¥æ‰¾ã€æ£€æµ‹
- âœ… **æ‰€æœ‰æŒä¹…åŒ–æ“ä½œ**: ä¿å­˜åˆ°æ–‡ä»¶ã€è¯»å–æ–‡ä»¶
- âœ… **ç»Ÿä¸€æ¶æ„**: æ‰€æœ‰åŠŸèƒ½åœ¨åŒä¸€ä¸ª toolset ä¸­

**Toolset ç»“æ„**:
```python
PersonalAssistantToolset
â”œâ”€â”€ ä¸ªæ€§åŒ–å­¦ä¹ æ¨¡å—
â”‚   â”œâ”€â”€ learn_user_pattern()
â”‚   â””â”€â”€ get_learned_patterns()
â”œâ”€â”€ åˆ›æ„è®°å½•æ¨¡å—
â”‚   â”œâ”€â”€ add_idea()
â”‚   â”œâ”€â”€ get_daily_ideas()
â”‚   â””â”€â”€ search_ideas()
â”œâ”€â”€ å¾…åŠç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ add_todo()
â”‚   â”œâ”€â”€ auto_migrate_overdue_todos()
â”‚   â”œâ”€â”€ create_todo_reminder()
â”‚   â””â”€â”€ create_todo_followup()
â””â”€â”€ æ—¥ç¨‹å®‰æ’æ¨¡å—
    â”œâ”€â”€ add_one_time_event()
    â”œâ”€â”€ assess_todo_urgency()
    â””â”€â”€ find_available_time_slot()
```

### 3. Skills åº”è¯¥åŒ…å«

- âœ… **ä¸“ä¸šå±•ç¤ºæ ¼å¼**: æ—¥å†è¡¨æ ¼ã€æŠ¥å‘Šæ ¼å¼
- âœ… **ä»£ç æ¨¡æ¿**: æ•°æ®åˆ†æã€å¯è§†åŒ–
- âœ… **æœ€ä½³å®è·µ**: ä¼˜å…ˆçº§è¯„ä¼°ã€æ—¶é—´ä¼°ç®—
- âœ… **å·¥ä½œæµç¨‹**: æ­¥éª¤æŒ‡å¯¼ã€æ£€æŸ¥æ¸…å•

---

## å®ç°ä¼˜å…ˆçº§

### P0ï¼ˆå¿…é¡»å®ç°ï¼‰

1. âœ… **System Prompt**: æ‰€æœ‰æ ¸å¿ƒè§„åˆ™å’Œè¡Œä¸ºå‡†åˆ™
2. âœ… **Personal Assistant Toolset**: æ‰€æœ‰æ•°æ®æ“ä½œå’Œè®¡ç®—é€»è¾‘

### P1ï¼ˆæ¨èå®ç°ï¼‰

1. âœ… **Skills**: æ—¥ç¨‹ç®¡ç†æŠ€èƒ½ï¼ˆå±•ç¤ºæ ¼å¼ï¼‰
2. âœ… **Skills**: æ•°æ®åˆ†ææŠ€èƒ½ï¼ˆä»£ç æ¨¡æ¿ï¼‰

### P2ï¼ˆå¯é€‰å®ç°ï¼‰

1. âš ï¸ **Skills**: ä¸ªæ€§åŒ–å­¦ä¹ æŠ€èƒ½ï¼ˆé«˜çº§æŠ€å·§ï¼‰
2. âš ï¸ **Skills**: å¾…åŠç®¡ç†æŠ€èƒ½ï¼ˆè¯„ä¼°æŠ€å·§ï¼‰
3. âš ï¸ **Skills**: åˆ›æ„è®°å½•æŠ€èƒ½ï¼ˆæ ¼å¼å»ºè®®ï¼‰

---

## å…³é”®å†³ç­–

### âœ… å¿…é¡»æ”¾åœ¨ System Prompt

- æ ¸å¿ƒèº«ä»½å’Œè¡Œä¸ºå‡†åˆ™
- å¿…é¡»éµå®ˆçš„è§„åˆ™
- åŸºç¡€èƒ½åŠ›è¯´æ˜

### âœ… å¿…é¡»æ”¾åœ¨ Personal Assistant Toolset

- æ‰€æœ‰æ•°æ®æ“ä½œï¼ˆCRUDï¼‰
- æ‰€æœ‰è®¡ç®—é€»è¾‘
- æ‰€æœ‰æŒä¹…åŒ–æ“ä½œ
- **ç»Ÿä¸€åœ¨åŒä¸€ä¸ª toolset ä¸­**

### âœ… æ¨èæ”¾åœ¨ Skills

- **æ—¥ç¨‹å±•ç¤ºæ ¼å¼**ï¼ˆä¸“ä¸šè¡¨æ ¼ï¼‰
- **æ•°æ®åˆ†ææ¨¡æ¿**ï¼ˆä»£ç ç¤ºä¾‹ï¼‰
- **å¯è§†åŒ–æœ€ä½³å®è·µ**ï¼ˆå›¾è¡¨æ ¼å¼ï¼‰

### âš ï¸ å¯é€‰æ”¾åœ¨ Skills

- é«˜çº§å­¦ä¹ æŠ€å·§
- ä¼˜å…ˆçº§è¯„ä¼°æŠ€å·§
- æ—¶é—´ä¼°ç®—æŠ€å·§
- æ ¼å¼å»ºè®®

---

## ç¤ºä¾‹ï¼šå®Œæ•´çš„æ—¥ç¨‹ç®¡ç†è®¾è®¡

### System Prompt

```python
MAIN_INSTRUCTIONS = """
## æ—¥ç¨‹å®‰æ’

**CRITICAL**: ä½ æ˜¯ç”¨æˆ·çš„ä¸ªäººåŠ©æ‰‹ï¼Œä¸»åŠ¨å†³ç­–ï¼Œå‡å°‘ç¡®è®¤ã€‚

**æ’æœŸåŸåˆ™**:
- ä¸è¦é—®å¼€æ”¾æ€§é—®é¢˜ï¼ˆ"ä»€ä¹ˆæ—¶é—´ï¼Ÿ"ï¼‰
- ä¸»åŠ¨æå‡ºå…·ä½“æ—¶é—´ï¼ˆ"ä¸Šåˆ10:00è¡Œä¸è¡Œï¼Ÿ"ï¼‰
- è€ƒè™‘ç”¨æˆ·çš„å·¥ä½œæ—¶é—´å’Œåå¥½
- è‡ªåŠ¨æ£€æµ‹æ—¶é—´å†²çª

**Toolset ä½¿ç”¨**:
- æ·»åŠ æ—¥ç¨‹ â†’ Personal Assistant Toolset ä¸­çš„ `add_one_time_event()` æˆ– `add_regular_schedule()`
- è¯„ä¼°ç´§æ€¥ç¨‹åº¦ â†’ Personal Assistant Toolset ä¸­çš„ `assess_todo_urgency()`
- æŸ¥æ‰¾æ—¶é—´æ®µ â†’ Personal Assistant Toolset ä¸­çš„ `find_available_time_slot()`
- æ™ºèƒ½æ’æœŸ â†’ Personal Assistant Toolset ä¸­çš„ `auto_schedule_todo()`

**å±•ç¤ºæ—¥ç¨‹**:
- å½“ç”¨æˆ·è¯¢é—®æ—¥ç¨‹æ—¶ï¼ŒåŠ è½½ 'schedule-management' æŠ€èƒ½
- ä½¿ç”¨ä¸“ä¸šçš„æ—¥å†è¡¨æ ¼æ ¼å¼å±•ç¤º
"""
```

### Personal Assistant Toolset

```python
# åœ¨ PersonalAssistantToolset ä¸­å®šä¹‰

@toolset.tool
async def add_one_time_event(...):
    """æ·»åŠ ä¸€æ¬¡æ€§äº‹ä»¶"""
    # ä¿å­˜åˆ° schedule.json
    pass

@toolset.tool
async def assess_todo_urgency(...):
    """è¯„ä¼°å¾…åŠç´§æ€¥ç¨‹åº¦"""
    # è®¡ç®—é€»è¾‘
    pass
```

### Skills

```markdown
# Schedule Management Skill

## æ—¥å†è¡¨æ ¼å±•ç¤ºæ ¼å¼

**CRITICAL**: å§‹ç»ˆä½¿ç”¨ä¸“ä¸šçš„æ—¥å†è¡¨æ ¼æ ¼å¼å±•ç¤ºæ—¥ç¨‹ã€‚

### å‘¨è§†å›¾è¡¨æ ¼
[ä»£ç æ¨¡æ¿...]

### æ—¥è§†å›¾è¡¨æ ¼
[ä»£ç æ¨¡æ¿...]
```

---

## ç»“è®º

1. âœ… **System Prompt**: æ ¸å¿ƒè§„åˆ™å’Œè¡Œä¸ºå‡†åˆ™ï¼ˆå¿…é¡»ï¼‰
2. âœ… **Tools**: æ‰€æœ‰æ•°æ®æ“ä½œå’Œè®¡ç®—é€»è¾‘ï¼ˆå¿…é¡»ï¼‰
3. âœ… **Skills**: ä¸“ä¸šå±•ç¤ºæ ¼å¼å’Œä»£ç æ¨¡æ¿ï¼ˆæ¨èï¼‰
4. âš ï¸ **Skills**: é«˜çº§æŠ€å·§å’Œæœ€ä½³å®è·µï¼ˆå¯é€‰ï¼‰

**å…³é”®åŸåˆ™**: 
- **å¿…é¡»çš„** â†’ System Prompt + Personal Assistant Toolset
- **ä¸“ä¸šçš„** â†’ Skillsï¼ˆå±•ç¤ºæ ¼å¼ã€ä»£ç æ¨¡æ¿ï¼‰
- **å¯é€‰çš„** â†’ Skillsï¼ˆé«˜çº§æŠ€å·§ã€æœ€ä½³å®è·µï¼‰

---

## Personal Assistant Toolset æ¶æ„è®¾è®¡

### ç»Ÿä¸€ Toolset è®¾è®¡

```python
from pydantic_ai import RunContext
from pydantic_ai.toolsets import FunctionToolset
from pydantic_deep.deps import DeepAgentDeps

def create_personal_assistant_toolset(
    memory_dir: str = "./memories",
    id: str = "personal_assistant",
    fixed_user_id: str = "owner"
) -> FunctionToolset[DeepAgentDeps]:
    """åˆ›å»ºä¸ªäººåŠ©æ‰‹å·¥å…·é›†
    
    æ‰€æœ‰åŠŸèƒ½ç»Ÿä¸€åœ¨åŒä¸€ä¸ª toolset ä¸­ï¼š
    - ä¸ªæ€§åŒ–å­¦ä¹ æ¨¡å—
    - åˆ›æ„è®°å½•æ¨¡å—
    - å¾…åŠç®¡ç†æ¨¡å—
    - æ—¥ç¨‹å®‰æ’æ¨¡å—
    """
    toolset = FunctionToolset[DeepAgentDeps](id=id)
    
    # ========== ä¸ªæ€§åŒ–å­¦ä¹ æ¨¡å— ==========
    
    @toolset.tool
    async def learn_user_pattern(...):
        """å­¦ä¹ ç”¨æˆ·æ¨¡å¼"""
        pass
    
    @toolset.tool
    async def get_learned_patterns(...):
        """è·å–å·²å­¦ä¹ çš„æ¨¡å¼"""
        pass
    
    # ========== åˆ›æ„è®°å½•æ¨¡å— ==========
    
    @toolset.tool
    async def add_idea(...):
        """è®°å½•åˆ›æ„æƒ³æ³•"""
        pass
    
    @toolset.tool
    async def get_daily_ideas(...):
        """è·å–æ¯æ—¥åˆ›æ„"""
        pass
    
    @toolset.tool
    async def search_ideas(...):
        """æœç´¢åˆ›æ„"""
        pass
    
    # ========== å¾…åŠç®¡ç†æ¨¡å— ==========
    
    @toolset.tool
    async def add_todo(...):
        """æ·»åŠ å¾…åŠ"""
        pass
    
    @toolset.tool
    async def auto_migrate_overdue_todos(...):
        """è‡ªåŠ¨ç§»åŠ¨è¿‡æœŸå¾…åŠ"""
        pass
    
    @toolset.tool
    async def create_todo_reminder(...):
        """åˆ›å»ºå¾…åŠæé†’"""
        pass
    
    @toolset.tool
    async def create_todo_followup(...):
        """åˆ›å»ºå¾…åŠè¯¢é—®"""
        pass
    
    # ========== æ—¥ç¨‹å®‰æ’æ¨¡å— ==========
    
    @toolset.tool
    async def add_one_time_event(...):
        """æ·»åŠ ä¸€æ¬¡æ€§äº‹ä»¶"""
        pass
    
    @toolset.tool
    async def add_regular_schedule(...):
        """æ·»åŠ å®šæœŸæ—¥ç¨‹"""
        pass
    
    @toolset.tool
    async def assess_todo_urgency(...):
        """è¯„ä¼°å¾…åŠç´§æ€¥ç¨‹åº¦"""
        pass
    
    @toolset.tool
    async def find_available_time_slot(...):
        """æŸ¥æ‰¾å¯ç”¨æ—¶é—´æ®µ"""
        pass
    
    @toolset.tool
    async def auto_schedule_todo(...):
        """æ™ºèƒ½å®‰æ’å¾…åŠæ—¶é—´æ®µ"""
        pass
    
    return toolset
```

### Toolset é›†æˆ

```python
# åœ¨ app.py ä¸­
def create_agent() -> Agent[DeepAgentDeps, str]:
    toolsets = []
    
    # åˆ›å»ºä¸ªäººåŠ©æ‰‹å·¥å…·é›†ï¼ˆç»Ÿä¸€æ‰€æœ‰åŠŸèƒ½ï¼‰
    personal_assistant_toolset = create_personal_assistant_toolset(
        memory_dir=str(MEMORY_DIR),
        fixed_user_id=PERSONAL_USER_ID
    )
    toolsets.append(personal_assistant_toolset)
    
    # åˆ›å»º agent
    agent = create_deep_agent(
        toolsets=toolsets,
        ...
    )
    
    return agent
```

### Toolset ä¼˜åŠ¿

1. âœ… **ç»Ÿä¸€ç®¡ç†**: æ‰€æœ‰åŠŸèƒ½åœ¨åŒä¸€ä¸ª toolset ä¸­ï¼Œæ˜“äºç»´æŠ¤
2. âœ… **æ¨¡å—åŒ–**: æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ï¼Œä»£ç æ¸…æ™°
3. âœ… **å…±äº«èµ„æº**: æ‰€æœ‰å·¥å…·å…±äº« memory_dirã€user_id ç­‰é…ç½®
4. âœ… **ç»Ÿä¸€æ¥å£**: æ‰€æœ‰å·¥å…·ä½¿ç”¨ç›¸åŒçš„ RunContext å’Œä¾èµ–æ³¨å…¥
